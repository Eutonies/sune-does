@using SuneDoes.UI.Components

<script src="lib/bootstrap/js/bootstrap.bundle.js"></script>

<div class="accordion" id="sundo-meditation-tracks">
    @foreach(var (track, indx) in MeditationTracks.Select((_,indx) => (Track: _, Index: indx + 1))) {
        <div class="accordion-item">
            <h2 class="accordion-header">
                <button class="accordion-button sundo-meditation-accordian-button"
                    style="background-image: url('@track.ButtonImage');"
                    type="button" 
                    data-bs-toggle="collapse" 
                    data-bs-target="#sundo-mediation-tracks-track-@indx" 
                    aria-expanded="true" 
                    aria-controls="sundo-mediation-tracks-track-@indx">
                    @(track.TrackName)
                </button>
            </h2>
            <div id="sundo-mediation-tracks-track-@indx" class="accordion-collapse collapse show">
                <div class="accordion-body container-fluid">
                    <div class="row">
                        <div class="col-10">
                            @foreach(var paragraph in track.Summary)
                            {
                                <p>@paragraph</p>
                            }
                        </div>
                        <div class="col-2">
                            <SoundCloudPlayerComponent
                                TrackId="@(track.TrackId)"
                                TrackTitle="@(track.TrackName)"
                                TrackProducer="Sune-Tzu Forkbeard"
                                TrackProducerUrl="https://soundcloud.com/sune-tzu-forkbeard"
                                TrackUrl="@(track.TrackUrl)">
                            </SoundCloudPlayerComponent>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    }
</div>